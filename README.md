本專案主要實作智能雙輪小車的循跡功能，以下分段說明架構
<<智能小車硬體>>
1. 下位機，小車主控:STM32F103C8T6，是意法半導體所開發之最小系統板(外設說明:https://www.jmaker.com.tw/products/stm32f103c8t6 )
2. 下位機，同時與上下位機通訊 & 即時影像擷取:ESP32-CAM，自帶OV2640影像擷取鏡頭(外設說明:https://www.jmaker.com.tw/products/esp32-cam-1)
3. 姿態感測器:MPU6050六軸陀螺儀，用於小車平衡控制(外設說明:https://www.jmaker.com.tw/products/product397)
4. 馬達驅動:TB6612NFG(外設說明:https://www.jmaker.com.tw/products/tb6612fng-red)
5. 馬達:JGA37-520，帶編碼器

<<智能小車軟體>>
1. TCP/IP Server:使用Python語言撰寫，IDE為Pycharm
2. 影像處理:使用opencv庫，在本專案中，雖使用較為低階的方法(如下)，不過卻能得到穩健的效果
2-1 ROI
2-2 影像前處理
2-3 高斯濾波
2-4 Canny edge detect
2-5 霍夫線段檢測

<<智能小車韌體>>
1. STM32F103C8T6:一般而言撰寫驅動STM單晶片的方式有兩種，
第一種是hal庫，透過CubeMX圖形化的方式配置所需要的功能，並且直接生成符合配置的代碼；另一種則是標準庫，不透過圖形配置生成代碼，而是自行開發，
本專案使用HAL庫進行快速開發並透過KEIL5 IDE編寫驅動
2. ESP32-CAM:透過Arduino IDE 編寫驅動

<<上位機與下位機間通訊>>
1. TCP\IP通訊:此通訊方式需要在同一網域內才能彼此通訊，透過Python語言在上位機PC架設Server，本專案透過TCP/IP通訊傳圖片以及偏移值
2. USART通訊:此通訊透過TX RX 接腳互接方式實現與其他下位機通訊，在本專案中，ESP32-CAM透過USART通訊將偏移值傳送給STM32F103C8T6，藉此控制馬達轉彎
   
<<影像處理編程思路>>
Canny edge 跟霍夫檢測在目前已經算是成熟且被高度使用的技術，在直線的線段檢測上具有穩健效果。
然而，原始的Canny Edge 以及霍夫檢測遇到曲線時，往往會判別失敗，因此，本專案想出了透過繪製多條切線去近似曲線的方法，
在可以找到車道中心的同時也能夠透過切線角度的變化率來得知是否入彎或出彎。

<<小車循跡編程思路>>
小車對於是否偏離車道中心的判斷是透過偏移值來決定，偏移值計算方式如下:
ROI中心點X座標-檢測到的兩條車道線中心點X座標-->偏移值帶正號(plus)代表小車向左偏了，須向右轉；帶負號(minus)代表小車向右偏了，須向左轉
控制算法則是透過經典的PID算法，本專案由於仍在開發階段，因此在PID算法中先採用Kp(比例增益項)來追上目標，馬達轉彎角度 = KP*偏移值

<<以下是我踩過的坑>>
1. ESP32-CAM燒錄失敗:在程式開發過程中，如果注意到燒錄會偶發失敗，此時就要留意是否是開發板掛了，否則你會DEBUG很久最後一場空
2. TCP/IP 通訊:會造成下位機連不上上位機的原因往往是PC防火牆阻擋使用者開發的應用程式進行網絡通訊，因此，無論你在私人網與還是
   公共網域內都要注意你所編寫的應用程式是否被阻擋
3. USART通訊:USART通訊常常發生回傳值為0的狀況，此時你要去檢查發送端跟接收端的Buard率是否一致；發送端TX是否有接到接收端RX腳位
   如果發現還是不行則需要去留意是否是資料接收後處理的方法有問題

<<程式碼使用提醒>>
TCP\IP Server端代碼近乎開發完成，將來若有需要發送其他資料給下位機，照程式碼內指示編程即可
ESP32-CAM端也近乎開發完成，將來若有需要透過USART通訊發送其他資料給下位機，照程式碼內指示編程即可
Stm32f103c8t6循跡控制還不完善，可以參考思路但不建議直接使用，另外在程式碼中還有其他控制的代碼(姿態控制,速度控制)也可參考
